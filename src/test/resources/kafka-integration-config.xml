<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns="http://www.mulesoft.org/schema/mule/core"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:kafka="http://www.mulesoft.org/schema/mule/kafka"
       xmlns:vm="http://www.mulesoft.org/schema/mule/vm"
    xsi:schemaLocation="
       http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/3.7/mule.xsd
       http://www.mulesoft.org/schema/mule/kafka http://www.mulesoft.org/schema/mule/kafka/3.7/mule-kafka.xsd
       http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/3.7/mule-vm.xsd
       ">

    <kafka:connector 
        name="kafkaConnector" 
    	bootstrapServers="localhost:9092"
        />
    

    <flow name="testFlow">
        <vm:inbound-endpoint path="in" exchange-pattern="one-way" />
        <kafka:outbound-endpoint topic="test-kafka-topic" />
    </flow>

    <flow name="sendMsg">
        <kafka:inbound-endpoint topic="test-kafka-topic" groupId="test-my-group" enableAutoCommit="true" autoCommitIntervalMS="2000" />
        <vm:outbound-endpoint path="out" />
    </flow>
</mule>
